<!-- FILE: index.html  (Home) â€” UPDATED: adds Profiles + Certificates -->
<!doctype html>
<html lang="en-GB">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Young Tech Architect â€” 90 Day Challenge</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="wrap topbar__inner">
      <a class="brand" href="./index.html" aria-label="Young Tech Architect Home">
        <span class="brand__mark" aria-hidden="true"></span>
        <span class="brand__text">
          <span class="brand__title">Young Tech Architect</span>
          <span class="brand__subtitle">90 Day Challenge</span>
        </span>
      </a>

      <nav class="nav" aria-label="Primary">
        <a class="nav__link is-active" href="./index.html">Home</a>
        <a class="nav__link" href="./profiles.html">Profiles</a>
        <a class="nav__link" href="./month1.html">Month 1</a>
        <a class="nav__link" href="./month2.html">Month 2</a>
        <a class="nav__link" href="./month3.html">Month 3</a>
        <a class="nav__link" href="./certificates.html">Certificates</a>
        <a class="nav__link" href="./print.html">Print</a>
        <a class="nav__link" href="./dashboard.html">Parent Dashboard</a>
      </nav>

      <div class="topbar__actions">
        <button class="btn btn--soft" id="kidModeToggle" type="button" aria-pressed="false">Kid Mode: Off</button>
      </div>
    </div>
  </header>

  <main class="wrap stack">
    <section class="hero card">
      <div class="hero__grid">
        <div class="stack">
          <h1 class="h1">A day-by-day learning path to help kids build games, learn logic, and type faster.</h1>
          <p class="muted">
            Mondayâ€“Saturday plan for 12 weeks (72 days). Pick a child profile and a start date, then tick tasks daily.
          </p>

          <div class="pillrow">
            <span class="pill pill--static">
              <span class="pill__k">Active profile</span><span class="pill__v" id="activeProfileName">â€”</span>
            </span>
            <span class="pill pill--static">
              <span class="pill__k">Start date</span><span class="pill__v" id="activeStartDate">â€”</span>
            </span>
            <a class="pill" href="./profiles.html"><span class="pill__k">Manage</span><span class="pill__v">Profiles</span></a>
          </div>

          <div class="ctaRow">
            <a class="btn btn--primary" href="./month1.html">Start / Continue â†’</a>
            <a class="btn" href="./certificates.html">Weekly Certificates</a>
            <a class="btn btn--soft" href="./print.html">Print Plan</a>
          </div>
        </div>

        <div class="card card--soft stack">
          <div class="stats">
            <div class="stat">
              <div class="stat__k">Progress</div>
              <div class="stat__v" id="homeProgressText">0 / 72 days</div>
              <div class="bar" aria-label="Progress bar"><div id="homeProgressBar"></div></div>
            </div>
            <div class="stat">
              <div class="stat__k">Streak</div>
              <div class="stat__v"><span id="homeStreak">0</span> days ğŸ”¥</div>
              <div class="muted small">Uses your chosen start date (Monâ€“Sat weeks).</div>
            </div>
          </div>

          <div class="badges">
            <div class="badge" id="badgeStarter">ğŸ Starter</div>
            <div class="badge" id="badgeBuilder">ğŸ§± Builder</div>
            <div class="badge" id="badgeFinisher">ğŸ† Finisher</div>
          </div>

          <div class="stack">
            <div class="small muted">Quick tip</div>
            <div class="quote">Finish a small version first, then upgrade it. Consistency wins.</div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer wrap">
    <span class="muted small">Progress is saved per child on this device.</span>
    <button class="btn btn--danger btn--tiny" id="resetAll" type="button" title="Clears ticks for the active child on this device">
      Reset active child ticks
    </button>
  </footer>

  <script src="./app.js"></script>
  <script>
    YTA.initKidModeUI();

    const p = YTA.getActiveProfile();
    document.getElementById("activeProfileName").textContent = p ? p.name : "No profile";
    document.getElementById("activeStartDate").textContent = p?.startDate ? YTA.fmtDate(p.startDate) : "Not set";

    const { completeDays, totalDays, pct } = YTA.computeOverallProgress();
    document.getElementById("homeProgressText").textContent = `${completeDays} / ${totalDays} days`;
    document.getElementById("homeProgressBar").style.width = `${pct}%`;
    document.getElementById("homeStreak").textContent = YTA.computeStreak();

    const starter = document.getElementById("badgeStarter");
    const builder = document.getElementById("badgeBuilder");
    const finisher = document.getElementById("badgeFinisher");
    starter.classList.toggle("badge--on", completeDays >= 1);
    builder.classList.toggle("badge--on", completeDays >= 12);
    finisher.classList.toggle("badge--on", completeDays >= 72);

    document.getElementById("resetAll").addEventListener("click", () => YTA.resetActiveChildTicks());
  </script>
</body>
</html>
